<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 10.2.0" />
<title>Sca/LAPACK Program Style</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Sca/LAPACK Program Style</h1>
<span id="author">v0.3, August 2006</span><br />
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>The purpose of this document is to facilitate contributions to
LAPACK and ScaLAPACK by documenting their design and implementation
guidelines.  The long-term goal is to provide guidelines for both
LAPACK and ScaLAPACK.  However, the parallel ScaLAPACK code has
more open issues, so this document primarily concerns LAPACK.
Details on threading and other issues likewise have been
deferred and will be shaped by future contributions discussions.</p></div>
<div class="paragraph"><p>These are style and design <em>guidelines</em>, exceptions <em>may</em> be
allowed if accompanied by sound reasons and good documentation.
To enable development and use of automated tools, rules regarding
issues like formatting are far less flexible.  Copyright and
licensing rules are completely inflexible; see the section on
<a href="#licensing">[licensing]</a> below.</p></div>
<div class="paragraph"><p>Many parts of the current code may not live up to these
guidelines.  Fixes are greatly appreciated.  See the section on
<a href="#maintenance">[maintenance]</a> and the "TODO" notes in each section.</p></div>
<div class="paragraph"><p>Not all of the guidelines have been completely decided.
Questions to contributors are listed after relevant sections.</p></div>
<div class="paragraph"><p>Please coordinate possible contributions with
<a href="mailto:lapackers@cs.utk.edu">lapackers@cs.utk.edu</a> and
<a href="mailto:lapackers@cs.berkeley.edu">lapackers@cs.berkeley.edu</a>.</p></div>
<div class="sect2">
<h3 id="_high_level_design_choices">High-Level Design Choices</h3>
<div class="paragraph"><p>These guidelines follow from some considerations of
implementation languages, memory managements, and performance
goals.</p></div>
<div class="paragraph"><p>We do not have the resources or desire to throw away the existing
code and recode the algorithms from scratch in a new language.
Our plans are to keep the code primarily in Fortran.  Existing
code is primarily in the dialect of Fortran 77 available in the
1990s.  New code <em>may</em> adopt newer language features so long as
they</p></div>
<div class="ulist"><ul>
<li>
<p>
are widely available in compilers,
</p>
</li>
<li>
<p>
improve ease of use,
</p>
</li>
<li>
<p>
improve ease of maintenance, and
</p>
</li>
<li>
<p>
do not impose a significant cost in performance or memory usage.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Current prohibitions and warnings on new language features are
discussed in <a href="#fortran">[fortran]</a> .</p></div>
<div class="paragraph"><p>Some components and routines may be in written in C.  Current C
components include</p></div>
<div class="ulist"><ul>
<li>
<p>
the reference Extended Precision BLAS implementation, and
</p>
</li>
<li>
<p>
ScaLAPACK&#8217;s communication substrate, the PBLAS and BLACS, as
  well as such support routines as REDIST.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Future C components will be considered on a case-by-case basis.
Interoperability with C is important but difficult to achieve
both simply and portably.  Some considerations are listed in
<a href="#c-interop">[c-interop]</a>.</p></div>
<div class="paragraph"><p>LAPACK strives to accomodate both users who want control over
memory allocation as well as users who want automatic workspace
allocation.  We have decided not to use dynamic allocation within
LAPACK computational routines.  Instead, we will provide a
programmatic mechanism to query routines and determine necessary
workspace, see <a href="#workspace">[workspace]</a>.  Concerns about memory usage and
performance also drive decisions on language features in
<a href="#fortran">[fortran]</a> .</p></div>
<div class="paragraph"><p>Our design should enable writing user-friendlier wrappers in other
high-level languages (including full-featured F95), but the design
of these wrappers is not the subject of this document.</p></div>
</div>
<div class="sect2">
<h3 id="_reproducibility_a_id_repro_a">Reproducibility <a id="repro"></a></h3>
<div class="paragraph"><p>Reproducing exact results between runs on the same data for
debugging or certification is challenging.  We must balance
common needs for reproducibility against performance gains from
randomized algorithms and parallel processing.  The trade-offs
and design considerations are not completely clear at this point,
but we must support reproducible results whenever possible.</p></div>
<div class="paragraph"><p>To allow users to compute reproducible results whenever a
platform allows, the following rules apply to uses of
randomization in LAPACK:</p></div>
<div class="ulist"><ul>
<li>
<p>
Use the LAPACK PRNGs (Pseudo-Random Number Generators) like
   xLARUV and xLARNV.  These are portable routines.  When given the
   same seed, they generate the same numbers on all platforms.
</p>
</li>
<li>
<p>
Testing and timing code must set the seed to a constant in the
   source.
</p>
</li>
<li>
<p>
LAPACK library routines also must use a constant seed whenever
   possible.  Constant seeds are not possible if the code&#8217;s
   randomized performance or correctness relies on not having
   static bad cases.  If a routine cannot use a static seed, it
   must allow users to input a seed value in order to support
   debugging.
</p>
</li>
<li>
<p>
The impact of tuning parameters on the numerical results must
   be documented.
</p>
</li>
</ul></div>
<div class="paragraph"><p>We cannot control the reproducibility of tuned platform BLAS.
Users should be able to use the reference BLAS when necessary.</p></div>
<div class="paragraph"><p>There are many unresolved issues regarding reproducing numerical
results on parallel platforms.  At the very least, ScaLAPACK must
provide options to control communication and ensure
reproducibility for a particular process layout.  Discussions of
and contributions towards distributed and shared-memory parallel
reproducibility are welcome.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">TODO Notes</div>
<div class="ulist"><ul>
<li>
<p>
Need to test the PRNGs.  See <a href="#maintenance">[maintenance]</a>.
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_copyrights_and_licensing_a_id_licensing_a">Copyrights and Licensing <a id="licensing"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>All code must have the same license.  We have chosen the Modified
BSD license, available both in the COPYING file in the <em>next</em>
distribution as well as at
<a href="http://www.opensource.org/licenses/bsd-license.php">http://www.opensource.org/licenses/bsd-license.php</a>.</p></div>
<div class="paragraph"><p>Before a contribution can be accepted into LAPACK or ScaLAPACK,
the contributors must submit documentation that</p></div>
<div class="ulist"><ul>
<li>
<p>
states that the contributor grants all necessary copyright and
  patent licenses of the contribution so we can include it in
  LAPACK and ScaLAPACK under the Modified BSD license, and
</p>
</li>
<li>
<p>
declares the contributor to have necessary legal authority to
  grant the above.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The document makes claims only regarding the contribution to
LAPACK, not on any other uses of the same material.  The
necessary form is available at
<a href="http://www.netlib.org/lapack-dev/LAPACK_contributors_agreement.txt">http://www.netlib.org/lapack-dev/LAPACK_contributors_agreement.txt</a>.</p></div>
<div class="sect2">
<h3 id="_citing_the_authors_of_the_software">Citing the authors of the software</h3>
<div class="paragraph"><p>The original authors of the software will be listed in the code
first, followed by authors of important changes.  Contributors
will be listed in both the source distribution and the Users'
Guide.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation_a_id_documentation_a">Documentation <a id="documentation"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>Each type of documentation has a specific purpose.  This section
provides an overview of what topics the documentation should
address.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Source Code
</dt>
<dd>
<p>
  Inform users on how to call a routine.
</p>
</dd>
<dt class="hdlist1">
Users' Guide
</dt>
<dd>
<p>
  Tie routines together and provide examples.
</p>
</dd>
<dt class="hdlist1">
Working Notes
</dt>
<dd>
<p>
  Document the mathematical details and design considerations.
</p>
</dd>
</dl></div>
<div class="sect2">
<h3 id="_source_code">Source Code</h3>
<div class="paragraph"><p>Each source file for an exported routine (e.g. <code>SRC/*.f</code>) must
contain documentation on how to use the routine.  The
documentation should</p></div>
<div class="ulist"><ul>
<li>
<p>
briefly describe the routine&#8217;s purpose,
</p>
</li>
<li>
<p>
describe each argument,
</p>
</li>
<li>
<p>
optionally provide a reference for further details.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The documentation&#8217;s format is explained in <a href="#src-format">[src-format]</a> along
with other aspects of source formatting.</p></div>
</div>
<div class="sect2">
<h3 id="_lapack_users_guide">LAPACK Users' Guide</h3>
<div class="paragraph"><p>The LAPACK Users' Guide (LUG) provides higher-level information
about the routines and their interfaces without the full
technical and mathematical details that drive the design.  The
current LUG is available through SIAM and electronically at
<a href="http://www.netlib.org/lapack/lug/index.html">http://www.netlib.org/lapack/lug/index.html</a>.</p></div>
<div class="paragraph"><p>Each published interface must be incorporated into the LUG.  The
precise form will depend on the routines.  The goals are to
provide user with</p></div>
<div class="ulist"><ul>
<li>
<p>
the relationships between routines,
</p>
</li>
<li>
<p>
mathematical and design details needed for users to chose an
  appropriate routine,
</p>
</li>
<li>
<p>
brief examples of common uses, and
</p>
</li>
<li>
<p>
high-level advice to users.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The interface documentation from the source code will be
reproduced at the end of the LUG.  Therefore there is no need to
duplicate this detailed interface documentation in the earlier
LUG sections.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Questions to contributors</div>
<div class="ulist"><ul>
<li>
<p>
Would contributors like template LaTeX sections?  Or should we make
  the entire document available and ask contributors to send
  modifications?
</p>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">TODO Notes</div>
<div class="ulist"><ul>
<li>
<p>
The LUG needs updating for MR<sup>3</sup>, the extended refinement routines,
  etc.
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_lapack_working_notes_lawns">LAPACK Working Notes (LAWNs)</h3>
<div class="paragraph"><p>Details about mathematical derivations and design decisions
belong in the LAPACK Working Notes (LAWNs).  These notes will be
published through the LAPACK repository at Netlib; the current
notes are available at
<a href="http://www.netlib.org/lapack/lawns/index.html">http://www.netlib.org/lapack/lawns/index.html</a>.  We make no
restrictions on other publications of the same material.</p></div>
<div class="paragraph"><p>Every major routine should have a LAWN documenting the algorithm,
error analysis, performance, and testing.  LAWNs describing new
routines must address the following points:</p></div>
<div class="ulist"><ul>
<li>
<p>
Purpose
</p>
</li>
<li>
<p>
Usage
</p>
</li>
<li>
<p>
Error conditions and returns
</p>
</li>
<li>
<p>
Applicability and restrictions (including arithmetic, see below
  for current arithmetic restrictions in LAPACK)
</p>
</li>
<li>
<p>
Discussion of the method and algorithm
</p>
</li>
<li>
<p>
Algorithm design decisions
</p>
</li>
<li>
<p>
Accuracy
</p>
</li>
<li>
<p>
Tuning parameters
</p>
</li>
<li>
<p>
Test cases
</p>
</li>
<li>
<p>
Timing tests
</p>
</li>
<li>
<p>
References
</p>
</li>
</ul></div>
<div class="paragraph"><p>Currently the only arithmetic restrictions are in the eigenvalue
routines (IEEE exception handling in EGR and EBZ algorithms,
monotonicity and rounding accuracy in EBZ, guard digits in EDC).
For further details, grep for "IEEE" and "arithmetic" in the SRC
directory.</p></div>
<div class="paragraph"><p>Keep in mind that LAWNs are static publications, but LAPACK is
evolving code.  The LAWNs provide snapshots of design decisions.
Engineering choices in the routines' designs may change once the
code is reviewed.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workspace_and_memory_management_a_id_workspace_a">Workspace and Memory Management <a id="workspace"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>It is natural to ask whether we should dynamically allocate
workspace inside LAPACK routines, and so do away with complicated
workspace counting code and asking the user to allocate it. Many
users would like this. However, there are also important users
who want to control their own workspace, both for performance
reasons and so to be ensure memory allocation errors cannot occur
(e.g. in real-time control loops).  To make everyone happy
(except perhaps us developers) we currently plan to handle this
as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Change all routines that need workspace to be queryable
      for how much workspace is needed. This means that users
      can quickly ask how much space is necessary and handle
      it appropriately themselves, and it will let us more
      easily write wrappers in various languages that provide
      automatic memory allocation.  This option is already
      available in much of LAPACK by using LWORK=-1; our goal is to
      extend this feature to all of LAPACK.
</p>
</li>
<li>
<p>
Routines that call other routines needing workspace will
      in turn have to query those other routines to determine
      the total amount of workspace. In other words, no assumptions
      about workspace needs of other routines should be built in.
      This will both help eliminate bugs and permit innovations
      and bug fixes that change workspace to be made to one
      routine without changing lots of others too.
</p>
</li>
<li>
<p>
We are not sure how many "levels" of workspace query to
      provide: a routine could have different values for
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
the smallest possible workspace for correct functioning
</p>
</li>
<li>
<p>
the right amount for reasonable speed given various
             block size values (from querying ILAENV)
</p>
</li>
<li>
<p>
maximum space for very fast functioning. For example,
             DC needs 3n<sup>2</sup> + O(n) total space, MRRR needs 2n<sup>2</sup> + O(n)
             and QR needs only n<sup>2</sup> + O(n) for the dense symmetric
             eigenproblem.  So a smart driver could call any of these,
             depending on workspace.
</p>
</li>
</ol></div>
</li>
</ol></div>
<div class="paragraph"><p>Options (a), (b) and (c) could be implemented using other negative
values of LWORK. This is also discussed below in the section
on "Determining the Block Size for Block Algorithms".</p></div>
<div class="paragraph"><p>The routines xGEESX and xGGESX are the only exceptions using
LWORK for a workspace query. For these routines, the value of
LWORK is dependent upon the dimension of the invariant subspace
(SDIM), and is not known on entry to the routine.</p></div>
<div class="paragraph"><p>We are considering new drivers that split the functionality of xGEESX
and xGGESX into two subroutine calls, so that at the end of the first
call all the eigenvalues are known, and the second routine is given
the specific desired subset of these eigenvalues, whose cardinality is
then known. This means both routines could determine their workspace
needs in advance.</p></div>
<div class="paragraph"><p>Testing and timing code can dynamically allocate memory.  Arrays
larger than some systems' caches may <em>require</em> dynamic
allocation for some compilers (e.g. Sun&#8217;s).</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Questions to contributors (and users)</div>
<div class="ulist"><ul>
<li>
<p>
What style of queries are most useful?  In new routines, we have the
  option of using:
</p>
<div class="openblock">
<div class="content">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
An LWORK query for each type of workspace (IWORK, RWORK, CWORK,
   BWORK).
</p>
</li>
<li>
<p>
One single query routine modeled after ILAENV which would take the
   name of the routine and the type of workspace needed.
</p>
</li>
<li>
<p>
A separate query routine for each LAPACK procedure that returns the
   necessary or requested workspace for each used workspace
   type.  The routines could be named something akin to SGESVX_WORKSPACE.
</p>
</li>
</ol></div>
</div></div>
<div class="paragraph"><p>Maintaining existing interfaces requires one of the last two choices.</p></div>
</li>
</ul></div>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="title">TODO Notes</div>
<div class="ulist"><ul>
<li>
<p>
Split xGEESX and xGGESX as above.
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_routine_naming_and_design_a_id_design_a">Routine Naming and Design <a id="design"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_routine_naming_a_id_naming_a">Routine Naming <a id="naming"></a></h3>
<div class="paragraph"><p>The LAPACK project intends to maintain backwards compatibility.  New
routines get new names. Fixes to old routines that preserve the
interface can keep the names.  If the only change to the interface is
to <em>decrease</em> the amount of workspace needed, the old routine name can
be kept.</p></div>
<div class="paragraph"><p>We are no longer limited to 6 characters for routine names.
Underscores are ok.  At present, this causes problems in a
variety of codes that assume 6 character names when they parse
input springs (e.g. ILAENV, XERBLA, xOPLA, etc.).  We are working
to address these issues (see <a href="#maintenance">[maintenance]</a>).</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Questions to contributors</div>
<div class="ulist"><ul>
<li>
<p>
What criteria should we use when deciding if changes to the
  definitions of numerical output arguments constitutes an
  interface changes?  There is no single answer, and there are
  obvious limits, but we would like some feedback.  For example,
  if we want to change the definition of pivot growth in linear
  systems to be measured per column rather than over the entire
  matrix, should that be considered a change to the interface?
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_internal_design_and_name_usage">Internal Design and Name Usage</h3>
<div class="paragraph"><p>Recursion is permitted. But beware of excessive stack usage; it should
not be used as a substitute for workspace allocation as discussed in
<a href="#workspace">[workspace]</a>.  Roughly speaking, as long as the stack only grows to
O(log n) then there should be no problem.  If the alternative is a
non-recursive routine that uses the same space, and if the recursive
routine is more readable, prefer the recursive version.</p></div>
<div class="paragraph"><p>We will use the BLAS and extended BLAS names from BLAST Forum in new
code. There is a new BLAS standard <a href="#blast">[blast]</a>, but a partial reference
implementation exists only for the extended (and sparse) BLAS.  We
would like new LAPACK routines to use the new interface and provide a
reference implementation that simply calls the appropriate old BLAS
routine. Over time this will encourage developers and vendors to
migrate to the new BLAS.  We will provide an extended BLAS release as
part of LAPACK, since it is needed for the new iterative refinement
codes.</p></div>
<div class="paragraph"><p>We prohibit the use of I/O within LAPACK computational routines,
with a natural exception for parallel communication.  Policies
regarding any future out-of-core routines will be considered
along with the routines.  There should be no terminal or user I/O
outside the default XERBLA (<a href="#err-handling">[err-handling]</a>).</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph"><p>For background on low-level library design issues relevant to many
modern platforms, refer to <a href="#shared-lib">[shared-lib]</a>.</p></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_error_handling_and_the_diagnostic_argument_info_a_id_err_handling_a">Error Handling and the Diagnostic Argument INFO <a id="err-handling"></a></h3>
<div class="paragraph"><p>All documented routines have a diagnostic argument INFO that indicates
the success or failure of the computation, as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
INFO = 0: successful termination
</p>
</li>
<li>
<p>
INFO &lt; 0: illegal value of one or more arguments&#8201;&#8212;&#8201;no computation
  performed
</p>
</li>
<li>
<p>
INFO &gt; 0: failure in the course of computation
</p>
</li>
</ul></div>
<div class="paragraph"><p>All driver and auxiliary routines check that input arguments such as N
or LDA or option arguments of type character have permitted values. If
an illegal value of the ith argument is detected, the routine sets
INFO = -i, and then calls an error-handling routine XERBLA.</p></div>
<div class="paragraph"><p>The standard version of XERBLA issues an error message and halts
execution, so that no LAPACK routine would ever return to the calling
program with INFO &lt; 0. However, this might occur if a non-standard
version of XERBLA is used.</p></div>
</div>
<div class="sect2">
<h3 id="_determining_machine_arithmetic_parameters">Determining Machine Arithmetic Parameters</h3>
<div class="paragraph"><p>The xLAMCH interfaces for returning machine arithmetic parameters
will be maintained and will be made thread-safe.  New code must
use xLAMCH.</p></div>
<div class="paragraph"><p>Many Fortran language queries provide equivalent information.
For reference, the table below summarizes the widely available
Fortran 95 query functions that are equivalent to xLAMCH calls.</p></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Table------------------`-----------------`------------------</caption>
<col width="217" />
<col width="205" />
<col width="217" />
<thead>
  <tr>
    <th align="center">
    xLAMCH parameter
    </th>
    <th align="left">
    F95 intrinsic
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="center">
    E
    </td>
    <td align="left">
    EPSILON
    </td>
    <td align="left">
    Epsilon
    </td>
  </tr>
  <tr>
    <td align="center">
    B
    </td>
    <td align="left">
    RADIX
    </td>
    <td align="left">
    Base
    </td>
  </tr>
  <tr>
    <td align="center">
    N
    </td>
    <td align="left">
    DIGITS
    </td>
    <td align="left">
    Significand digits
    </td>
  </tr>
  <tr>
    <td align="center">
    M
    </td>
    <td align="left">
    MINEXPONENT
    </td>
    <td align="left">
    Min. exponent
    </td>
  </tr>
  <tr>
    <td align="center">
    U
    </td>
    <td align="left">
    TINY
    </td>
    <td align="left">
    Underflow threshold
    </td>
  </tr>
  <tr>
    <td align="center">
    L
    </td>
    <td align="left">
    MAXEXPONENT
    </td>
    <td align="left">
    Max. exponent
    </td>
  </tr>
  <tr>
    <td align="center">
    O
    </td>
    <td align="left">
    HUGE
    </td>
    <td align="left">
    Overflow threshold
    </td>
  </tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The two queries "P" and "S" can be derived from F95 intrinsics as
follows (example are given for double precision quantities):</p></div>
<div class="ulist"><ul>
<li>
<p>
P: Product of epsilon and the base
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>  EPSILON(0.0d0) * RADIX(0.0d0)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
S: Safe minimum such that 1/xLAMCH(<em>S</em>) does not overflow
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>  SFMIN = TINY(0.0d0)
  SMALL = 1.0d0/HUGE(0.0d0)
  if (SMALL &gt;= SFMIN) SFMIN = SMALL * (1+EPSILON(0.0d0))</code></pre>
</div></div>
<div class="paragraph"><p>xLAMCH("R") has no corresponding query function in Fortran 95 but
grep reveals no use of this query in LAPACK.  Likewise, SLAMC1&#8217;s
test for round-to-nearest and SLAMC2&#8217;s test for compliance to
IEEE-754 have no corresponding queries in Fortran 95.  Fortran 2003
provides these and additional useful predicates (e.g. IEEE_IS_NAN)
when an implementation supports IEEE-754 arithmetic, but these
compilers are not yet widely available.</p></div>
<div class="paragraph"><p>C89 provides similar support in float.h.  C99 includes greatly
improved support for IEEE-754 arithmetic in float.h and math.h.
This support is in widely available C compilers, but some system
libraries do not fully support fused multiply-add and flag tests.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="ulist"><ul>
<li>
<p>
Fortran 2003 provides additional queries like NaN detection
  on implementations of IEEE-754, but Fortran 2003 compilers are
  not yet widely available.
</p>
</li>
<li>
<p>
Note that, technically, Fortran 95&#8217;s number model does not
  <strong>allow</strong> gradual underflow.  Many implementations still support
  it.
</p>
</li>
</ul></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_determining_the_block_size_for_block_algorithms">Determining the Block Size for Block Algorithms</h3>
<div class="paragraph"><p>LAPACK routines that implement block algorithms need to determine what
block size to use. The intention behind the design of LAPACK is that
the choice of block size should be hidden from users as much as
possible, but at the same time easily accessible to installers of the
package when tuning LAPACK for a particular machine.</p></div>
<div class="paragraph"><p>LAPACK routines call an auxiliary enquiry function ILAENV, which
returns the optimal block size to be used as well as other
parameters. The version of ILAENV supplied with the package
contains default values that led to good behavior over a
reasonable number of our test machines, but to achieve optimal
performance, it may be beneficial to tune ILAENV for your
particular machine environment. Ideally a distinct implementation
of ILAENV is needed for each machine environment (see also
<a href="http://www.netlib.org/lapack/lug/node129.html#chapinstall">Chapter
6 of the LUG</a>). The optimal block size also may depend on</p></div>
<div class="ulist"><ul>
<li>
<p>
the routine,
</p>
</li>
<li>
<p>
the combination of option arguments (if any),
</p>
</li>
<li>
<p>
the problem dimensions, and
</p>
</li>
<li>
<p>
the available workspace.
</p>
</li>
</ul></div>
<div class="paragraph"><p>We ultimately plan to determine these values by an automatic
tuning process akin to the one used in ATLAS and related
packages.</p></div>
<div class="paragraph"><p>If ILAENV returns a block size of 1, then the routine performs
the unblocked algorithm, calling Level 2 BLAS, and makes no calls
to Level 3 BLAS.</p></div>
<div class="paragraph"><p>Some LAPACK routines require a work array whose size is
proportional to the block size (see
<a href="http://www.netlib.org/lapack/lug/node117.html#subsecworkspace">subsection
5.1.7 of the LUG</a>). The actual length of the work array is
supplied as an argument LWORK. The description of the arguments
WORK and LWORK typically goes as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>WORK
    (workspace) REAL array, dimension (LWORK)
    On exit, if INFO = 0, then WORK(1) returns the optimal
    LWORK.
LWORK
    (input) INTEGER
    The dimension of the array WORK. LWORK &gt;= max(1,N).

    For optimal performance LWORK &gt;= N*NB, where NB is the
    optimal block size returned by ILAENV.  The routine
    determines the block size to be used by the following
    steps: ...</code></pre>
</div></div>
<div class="paragraph"><p>For such a routine, if LWORK &gt;= max(1,N),</p></div>
<div class="ulist"><ul>
<li>
<p>
the optimal block size is determined by calling ILAENV;
</p>
</li>
<li>
<p>
if the value of LWORK indicates that enough workspace has been
  supplied, the routine uses the optimal block size;
</p>
</li>
<li>
<p>
otherwise, the routine determines the largest block size that can
  be used with the supplied amount of workspace;
</p>
</li>
<li>
<p>
if this new block size does not fall below a threshold value (also
  returned by ILAENV), the routine uses the new value;
</p>
</li>
<li>
<p>
otherwise, the routine uses the unblocked algorithm.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The minimum value of LWORK that would be needed to use the optimal
block size is returned in WORK(1) (see <a href="#workspace">[workspace]</a>).</p></div>
<div class="paragraph"><p>Thus, the routine uses the largest block size allowed by the amount of
workspace supplied, as long as this is likely to give better
performance than the unblocked algorithm. WORK(1) is not always a
simple formula in terms of N and NB.</p></div>
<div class="paragraph"><p>The specification of LWORK gives the minimum value for the routine to
return correct results. If the supplied value is less than the minimum&#8201;&#8212;&#8201;indicating that there is insufficient workspace to perform the
unblocked algorithm&#8201;&#8212;&#8201;the value of LWORK is regarded as an illegal
value, and is treated like any other illegal argument value (see
<a href="http://www.netlib.org/lapack/lug/node119.html#subsecinfo">subsection
5.1.9 of the LUG</a>).</p></div>
<div class="paragraph"><p>If in doubt about how much workspace to supply, users must use
the query mechanism described in <a href="#workspace">[workspace]</a>.  <em>That section is
still in flux.  There is no mechanism that will work for the
entire library at this point, but that is being addressed.  The
query mechanism will be available for <strong>all</strong> routines that use
workspace.</em></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fortran_language_features_a_id_fortran_a">Fortran Language Features <a id="fortran"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>We have considered what features of Fortran to use beyond those
in the F77 dialect we have used so far, and what features to
deprecate. The following summarizes our current plans, based on
availability of Fortran compilers, and sometimes conflicting desires
of users for ease of use, high performance, and memory safety.</p></div>
<div class="paragraph"><p>New code should meet the following guidelines.  Assistance in
converting existing code to the guidelines would be gratefully
accepted.  These guidelines are far more flexible in testing and
timing code.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Use DO WHILE and DO / END DO
</dt>
<dd>
<p>
  DO WHILE was adopted by Fortran 90 and is widely available.
  Using DO with END DO rather than a numbered CONTINUE makes the
  code more readable both by people and parsers.
</p>
</dd>
<dt class="hdlist1">
No new common blocks
</dt>
<dd>
<p>
  Currently there are no common blocks in the SRC code, just
  TESTING and TIMING. These create thread safety problems, and
  also create problems in TESTING and TIMING, because they
  assume 6 character routine names, a restriction we are
  eliminating (see below).
</p>
</dd>
<dt class="hdlist1">
No equivalence statements
</dt>
<dd>
<p>
  New Fortran language features make them unnecessary for many
  uses.
</p>
</dd>
<dt class="hdlist1">
No save statements
</dt>
<dd>
<p>
  SAVE statements often impose thread safety problems.  The next
  release will provide SAVE-free versions of xLAMCH, xLACON, and
  other SAVE-using source routines.  xLAMCH routines will
  preserve the interface.  Removing SAVE statements from xLACON
  and others would require changing the interface.  Instead, we
  provide and use functions contributed by Sven Hammarling and
  NAG Ltd.  The release notes will provide more information on
  the new routines.
</p>
</dd>
<dt class="hdlist1">
Use internal procedures rather than statement functions
</dt>
<dd>
<p>
  Statement functions are an "obsolescent" Fortran language
  feature.  See <a href="#obsolescent">[obsolescent]</a> for a full list.
</p>
</dd>
<dt class="hdlist1">
Provide INTERFACE blocks in include files
</dt>
<dd>
<p>
  INTERFACE blocks provide argument type-checking within the
  Fortran language without needing external tools like ftnchek
  or NAG&#8217;s utilities.  See <a href="#src-format">[src-format]</a> for guidelines about
  include files.
</p>
</dd>
<dt class="hdlist1">
Do not use assumed-shape arrays in interfaces
</dt>
<dd>
<p>
  Assumed-shape argument arrays, those defined like
</p>
<div class="listingblock">
<div class="content">
<pre><code>  REAL A(:,:)</code></pre>
</div></div>
<div class="paragraph"><p>add information to the low-level arguments passed into the
routine, complicating language interoperability.  Additionally,
passing arrays as assumed-shape arguments may impose performance
and memory costs.  The F95 wrappers may use assumed arrays in the
style of LAPACK95 <a href="#lapack95">[lapack95]</a>, as opposed to LAPACK3E
<a href="#lapack3e">[lapack3e]</a>.</p></div>
<div class="paragraph"><p>The preferred mechanism for passing arrays is described in
<a href="#src-format">[src-format]</a>.</p></div>
</dd>
<dt class="hdlist1">
Modules are limited to arbitrary / high-precision routines
</dt>
<dd>
<p>
We likely will need modules to provide arbitrary precision versions of LAPACK
routines.  We will approach this by parsing the module-free code and
automatically generating new code with modules inserted to redefine the
arithmetic.  Fortran abstractions available only through modules permit a
variety of longer fixed or variable precision packages to be used (QUAD,
ARPREC, MPFR, etc.).  Modules may also be used for the F95 wrappers.
</p>
</dd>
<dt class="hdlist1">
Derived types (structures) cannot appear in interfaces
</dt>
<dd>
<p>
  Derived types are Fortran&#8217;s structured data type, and they
  suffer from many language restrictions.
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
They may appear in INTERFACE blocks only when the derived type is
     defined in another module.
</p>
</li>
<li>
<p>
Two separate derived type declarations for the same name may be
     represented differently unless the SEQUENCE keyword appears.
     SEQUENCE packs the elements in declaration order, requiring
     careful attention to alignment for high performance.
</p>
</li>
<li>
<p>
Fortran prior to F03 does not provide any guarantees for
     interoperability between derived types and other languages.
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>Thus, we cannot use derived types in interfaces or pass them between
externally visible routines without modules.  Work on the arbitrary
precision versions may require modules for this reason.  We will
address interoperability concerns at some future point, possibly by
relying on F03&#8217;s BIND(C).</p></div>
</dd>
<dt class="hdlist1">
Be careful with WHERE masks and FORALL assignments
</dt>
<dd>
<p>
  Fortran 95 WHERE masks and FORALL assignments have strict
  evaluation semantics.  Both require that the mask and
  right-hand side be fully evaluated before the WHERE or FORALL
  is executed.  If the mask or right-hand side is an expression,
  or if there are data dependencies or possible aliasing issues,
  the compiler may dynamically allocate space to hold an
  intermediate evaluation.
</p>
</dd>
<dt class="hdlist1">
Be careful with array slicing
</dt>
<dd>
<p>
  Modern Fortran allows MATLAB&#8482;-like ranges and array slicing.
  Used with care, these can make code much more readable.
  However, slicing arrays declared with LAPACK&#8217;s explicit
  leading dimension style (see <a href="#src-format.lda">[src-format.lda]</a>) may lead to
  intermediate copies.  Many compilers provide options to warn
  when the particular compiler decides to use intermediate
  allocations, but the decision varies according to the compiler,
  the sequence of optimizations applied, and the language
  requirements.
</p>
<div class="paragraph"><p>If in doubt, write a loop.</p></div>
</dd>
<dt class="hdlist1">
Use BLAS routines rather than intrinsics (e.g. MATMUL)
</dt>
<dd>
<p>
  For similar reasons as the above.  We know the memory behavior
  of the BLAS, but not of the compilers' array intrinsics.
</p>
</dd>
</dl></div>
<div class="sect2">
<h3 id="_interoperability_with_c_a_id_c_interop_a">Interoperability with C <a id="c-interop"></a></h3>
<div class="paragraph"><p>We must mix C and Fortran internally to call the reference
extended precision BLAS as well as ScaLAPACK&#8217;s PBLAS and BLACS
substrate.  We are actively investigating how best to handle C
and Fortran interoperability both internally and for external
interfaces.  We would prefer a light-weight solution as opposed
to systems like Babel <a href="#babel">[babel]</a>.</p></div>
<div class="paragraph"><p>Currently, we assume the following types share the same low-level
machine representation.  C89 does not provide complex numbers or
operators, but C99 guarantees the associations between C89 and
C99 below.</p></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<col width="228" />
<col width="205" />
<col width="102" />
<thead>
  <tr>
    <th align="left">
    Fortran
    </th>
    <th align="left">
    C99
    </th>
    <th align="left">
    C89
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    INTEGER
    </td>
    <td align="left">
    int
    </td>
    <td align="left">
    int
    </td>
  </tr>
  <tr>
    <td align="left">
    REAL
    </td>
    <td align="left">
    float
    </td>
    <td align="left">
    float
    </td>
  </tr>
  <tr>
    <td align="left">
    DOUBLE PRECISION
    </td>
    <td align="left">
    double
    </td>
    <td align="left">
    double
    </td>
  </tr>
  <tr>
    <td align="left">
    COMPLEX
    </td>
    <td align="left">
    float _Complex
    </td>
    <td align="left">
    float[2]
    </td>
  </tr>
  <tr>
    <td align="left">
    DOUBLE COMPLEX
    </td>
    <td align="left">
    double _Complex
    </td>
    <td align="left">
    double[2]
    </td>
  </tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Thus, we assume that an array COMPLEX A(5, 6) on the Fortran side
corresponds to an array float _Complex a[30] in C99 and float
a[60] in C89.  The (2,3) entry of the Fortran A would be located
at a[2 + 3*5] in C99.  In C89, the real part would be located at
a[2*(2 + 3*5)], and the imaginary part at a[2*(2 + 3*5)+1].</p></div>
<div class="paragraph"><p>One prohibition to types in cross-language interfaces must apply:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Do not use C&#8217;s enum in header files that will be parsed by C++
</dt>
<dd>
<p>
  C specifies that all enums are the same size.  C<code> explicitly
  allows different enums to have different sizes.  Many compilers
  happen to use the C definition in C</code>, but that is <strong>not</strong>
  guaranteed.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_obsolescent_fortran_a_id_obsolescent_a">Obsolescent Fortran <a id="obsolescent"></a></h3>
<div class="paragraph"><p>The following is an incomplete list of features declared
obsolescent by or deleted from the 1995 and 2003 Fortran
standards.  If the item is listed as "not used", then they almost
certainly do not appear in LAPACK.  If the item is "likely not
used", then searching has not turned up instances, but we are not
completely sure.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Real DO variables
</dt>
<dd>
<p>
  Obsolescent in Fortran 1995, deleted in Fortran 2003.  Likely
  not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
Branching to an END IF from outside the IF block
</dt>
<dd>
<p>
  Obsolescent in Fortran 1995, deleted in Fortran 2003.  Likely
  not used in LAPACK.  Can be replaced by a CONTINUE after the
  END IF.
</p>
</dd>
<dt class="hdlist1">
PAUSE
</dt>
<dd>
<p>
  Obsolescent in Fortran 1995, deleted in Fortran 2003.  Likely
  not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
ASSIGN and assigned GO TO statements
</dt>
<dd>
<p>
  Obsolescent in Fortran 1995, deleted in Fortran 2003.  Likely
  not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
The H edit descriptor
</dt>
<dd>
<p>
  Obsolescent in Fortran 1995, deleted in Fortran 2003.
  Not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
Arithmetic IF statements
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  (We have not searched for these.)
</p>
</dd>
<dt class="hdlist1">
Termination of multiple DO loops on the same statement
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  (We have not searched for these.)
</p>
</dd>
<dt class="hdlist1">
Using one CONTINUE or statement for multiple DO loops
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  (We have not searched for these.)
</p>
</dd>
<dt class="hdlist1">
Alternate returns
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  Likely not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
Computed GO TO
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  There are a few computed GO TOs
  in xLACON and xLACN2, at least.
</p>
</dd>
<dt class="hdlist1">
Statement functions
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  Replace with internal procedures
  (CONTAINS).  Used as CABS1 and ZABS1, at least.
</p>
</dd>
<dt class="hdlist1">
DATA statements intermixed with executable statements
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  Likely not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
Assumed length character functions
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  Not used in LAPACK.
</p>
</dd>
<dt class="hdlist1">
Fixed-format source
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  We do not expect compilers to
  forget how to parse fixed-format source, so we do not prohibit
  its use.
</p>
</dd>
<dt class="hdlist1">
CHARACTER*len
</dt>
<dd>
<p>
  Obsolescent in Fortran 2003.  Replace with CHARACTER(len).  The
  CHARACTER*1 form currently is used for option arguments.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>New code must not use these features, and existing code should
have them removed.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">TODO Notes</div>
<div class="ulist"><ul>
<li>
<p>
Computed GO TOs in xLACON and xLACN2 need removed.  See <a href="#maintenance">[maintenance]</a>.
</p>
</li>
<li>
<p>
We need to consider converting the statement functions CABS1
  and ZABS1 either to far more verbose internal functions
  (possibly in an INCLUDEd file) or to open definitions within an
  internal module.  See <a href="#maintenance">[maintenance]</a>.
</p>
</li>
<li>
<p>
Replace CHARACTER*1 with CHARACTER(1) or just CHARACTER.  See <a href="#maintenance">[maintenance]</a>.
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_source_formatting_a_id_src_format_a">Source Formatting <a id="src-format"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>In general, follow existing LAPACK style.  The LAPACK routines
conform to a single set of conventions for their design and
documentation.  To accomodate ease of parsing just described, we
will insist on a uniform format.</p></div>
<div class="paragraph"><p>The structure of a LAPACK routine includes:</p></div>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
the SUBROUTINE or FUNCTION statement, followed by statements
   declaring the type and dimensions of the arguments;
</p>
</li>
<li>
<p>
an IMPLICIT NONE declaration;
</p>
</li>
<li>
<p>
a summary of the <strong>Purpose</strong> of the routine;
</p>
</li>
<li>
<p>
descriptions of each of the <strong>Arguments</strong> in the order of the
   argument list;
</p>
</li>
<li>
<p>
(optionally) <strong>Further Details</strong> (only in the code, not in the
  generated LUG pages in Part 2)
</p>
</li>
<li>
<p>
<strong>Internal Parameters</strong> if any are used (only in the code, not
  in the generated LUG pages in Part 2).
</p>
</li>
</ol></div>
<div class="paragraph"><p>We are no longer limited to 6 characters for variable names, and
underscores are ok.</p></div>
<div class="sect2">
<h3 id="_file_names_and_organization">File Names and Organization</h3>
<div class="paragraph"><p>Computational routines and drivers are placed in the SRC
directory of the LAPACK distribution.  Each file holds one
routine.  Testing and timing codes are in subdirectories under
TESTING and TIMING, respectively.  More information about testing
and timing codes is in <a href="#test-time">[test-time]</a>.</p></div>
<div class="paragraph"><p>Fortran sources in fixed format and using only Fortran 77
features shall have the extension ".f".</p></div>
<div class="paragraph"><p>Fortran files designed to be included in other source files, say
for defining common constants, shall have extension ".fh".  Such
files must be formatted for <strong>both</strong> fixed- and free-format source.
There will be no characters in the first six columns, and lines
will be at most 72 characters wide.  Do not use continuations in
include files.  These files are to be included using the
now-standard Fortran INCLUDE statement and not the C
preprocessor.  We are not supporting C preprocessing in Fortran
at this time.</p></div>
</div>
<div class="sect2">
<h3 id="_order_of_arguments">Order of Arguments</h3>
<div class="paragraph"><p>Arguments of an LAPACK routine appear in the following order:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
arguments specifying options;
</p>
</li>
<li>
<p>
problem dimensions;
</p>
</li>
<li>
<p>
array or scalar arguments defining the input data; some of them may
  be overwritten by results;
</p>
</li>
<li>
<p>
other array or scalar arguments returning results;
</p>
</li>
<li>
<p>
work arrays (and associated array dimensions);
</p>
</li>
<li>
<p>
diagnostic argument INFO.
</p>
</li>
</ol></div>
<div class="paragraph"><p>This is not a hard and fast rule.  It may make sense to cluster
arguments according to other considerations.</p></div>
</div>
<div class="sect2">
<h3 id="_argument_descriptions">Argument Descriptions</h3>
<div class="paragraph"><p>The style of the argument descriptions is illustrated by the following example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>N
    (input) INTEGER
    The number of columns of the matrix A. N &gt;= 0.
A
    (input/output) REAL array, dimension (LDA,N)
    On entry, the m-by-n matrix to be factored. On exit, the
    factors L and U from the factorization A = P*L*U; the unit
    diagonal elements of L are not stored.</code></pre>
</div></div>
<div class="paragraph"><p>The description of each argument gives:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
a classification of the argument as (input), (output),
  (input/output),
  <a href="http://www.netlib.org/lapack/lug/footnode.html#foot19489">(input or
  output)</a>, (workspace) or
  <a href="http://www.netlib.org/lapack/lug/footnode.html#foot19490">(workspace/output)</a>;
</p>
</li>
<li>
<p>
the type of the argument;
</p>
</li>
<li>
<p>
(for an array) its dimension(s);
</p>
</li>
<li>
<p>
a specification of the value(s) that must be supplied for the
  argument (if it&#8217;s an input argument), or of the value(s) returned by
  the routine (if it&#8217;s an output argument), or both (if it&#8217;s an
  input/output argument). In the last case, the two parts of the
  description are introduced by the phrases "On entry" and "On
  exit".
</p>
</li>
<li>
<p>
(for a scalar input argument) any constraints that the supplied
  values must satisfy (such as "N &gt;= 0" in the example above).
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_option_arguments">Option Arguments</h3>
<div class="paragraph"><p>Arguments specifying options are usually of type CHARACTER(1). The
meaning of each valid value is given, as in this example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>UPLO
    (input) CHARACTER(1)
        = 'U': Upper triangle of A is stored;
        = 'L': Lower triangle of A is stored.</code></pre>
</div></div>
<div class="paragraph"><p>The corresponding lower-case characters may be supplied (with the same
meaning), but any other value is illegal (see
<a href="http://www.netlib.org/lapack/lug/node119.html#subsecinfo">subsection
5.1.9 of the LUG</a>).</p></div>
<div class="paragraph"><p>A longer character string can be passed as the actual argument, making
the calling program more readable, but only the first character is
significant; this is a standard feature of Fortran 77. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>       CALL SPOTRS('upper', . . . )</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_problem_dimensions">Problem Dimensions</h3>
<div class="paragraph"><p>It is permissible for the problem dimensions to be passed as zero, in
which case the computation (or part of it) is skipped. Negative
dimensions are regarded as erroneous.</p></div>
</div>
<div class="sect2">
<h3 id="_array_arguments_a_id_src_format_lda_a">Array Arguments <a id="src-format.lda"></a></h3>
<div class="paragraph"><p>Each two-dimensional array argument is immediately followed in the
argument list by its leading dimension, whose name has the form
LD&lt;array-name&gt;. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>A
    (input/output) REAL/COMPLEX array, dimension (LDA,N)
    ...
LDA
    (input) INTEGER
    The leading dimension of the array A. LDA max(1,M).</code></pre>
</div></div>
<div class="paragraph"><p>It should be assumed, unless stated otherwise, that vectors and
matrices are stored in one- and two-dimensional arrays in the
conventional manner. That is, if an array X of dimension (N) holds a
vector x, then X(i) holds x_i for i = 1, &#8230;, n. If a two-dimensional
array A of dimension (LDA,N) holds an m-by-n matrix A, then A(i,j)
m). See
<a href="http://www.netlib.org/lapack/lug/node121.html#secstorage">Section
5.3 of the LUG</a> for more about storage of matrices.</p></div>
<div class="paragraph"><p>Note that array arguments are usually declared in the software as
assumed-size arrays (last dimension *), for example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>      REAL A( LDA, * )</code></pre>
</div></div>
<div class="paragraph"><p>although the documentation gives the dimensions as (LDA,N). The latter
form is more informative since it specifies the required minimum value
of the last dimension. However an assumed-size array declaration has
been used in the software, in order to overcome some limitations in
the Fortran 77 standard. In particular it allows the routine to be
called when the relevant dimension (N, in this case) is zero. However
actual array dimensions in the calling program must be at least 1 (LDA
in this example).</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_and_timing_routines_a_id_test_time_a">Testing and Timing Routines  <a id="test-time"></a></h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">TODO Note</div>
<div class="ulist"><ul>
<li>
<p>
Describe the different levels of testing: torture, build, and
deployment/installation.
</p>
</li>
<li>
<p>
Document the TESTING/ and TIMING/ directory contents, and the
dependencies between routines.  It&#8217;s ornate and nasty.
</p>
</li>
<li>
<p>
Separating and documenting the test matrix library (TESTING/MATGEN)
  would be very useful.  See <a href="#maintenance">[maintenance]</a>.
</p>
</li>
</ul></div>
</div></div>
<div class="sect2">
<h3 id="_testing_routines">Testing routines</h3>
<div class="ulist"><ul>
<li>
<p>
Test with various NB
</p>
</li>
<li>
<p>
If the new code replaces a current implementation, ensure it
  passes the current tests.
</p>
</li>
<li>
<p>
If the code introduces a new interface,
</p>
<div class="ulist"><ul>
<li>
<p>
test all the functionality for typical inputs,
</p>
</li>
<li>
<p>
test any extra accuracy claims with a few examples,
</p>
</li>
<li>
<p>
test all the possible INFO returns, and
</p>
</li>
<li>
<p>
test with all relevant dimensions equal to zero.
</p>
</li>
</ul></div>
</li>
<li>
<p>
All testing routines should be deterministic.  Seeds for
  generating pseudorandom numbers must be constant to allow for
  debugging.  See the section on <a href="#repro">[repro]</a>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_timing_routines">Timing routines</h3>
<div class="paragraph"><p>In the future timing will not be a default part of the installation
procedure, but optional. If the routine is providing a new function,
or is a better version of an old routine that is remaining in the
library, new timing code should be added to the existing code.
If the new routine simply replaces an old routine, the existing
timing code can be used. For example, the new QR and QZ routines
will use the old timing code.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_suggested_maintenance_projects_a_id_maintenance_a">Suggested Maintenance Projects <a id="maintenance"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>List of projects we would greatly appreciate someone handling, and
that make for a good introduction to the code.  They are
time-consuming jobs but they do not require a deep familiarity
with the mathematics or algorithms within LAPACK.</p></div>
<div class="ulist"><ul>
<li>
<p>
Ensure IMPLICIT NONE is in all routines, and add necessary
  declarations.
</p>
</li>
<li>
<p>
Remove COMMON blocks.
</p>
</li>
<li>
<p>
Replace obsolescent language features.
</p>
</li>
<li>
<p>
Replace fixed-length CHARACTER*6s throughout.  Such
  declarations that appear in argument lists can be replaced by
  variable-length strings (CHARACTER(*)) without harm.  Fixing
  local arrays and common block declarations will take more
  work.  The testing and timing code has the most serious
  issues.
</p>
</li>
<li>
<p>
Make the testing and timing code useful for other developers.
  It would be widely useful if outside implementations could run
  in exactly the same test and timing harness as LAPACK
  routines.  This would provide one standard for comparison.
</p>
</li>
<li>
<p>
Clean up the build system.  Distributors may appreciate some
  form of automatic configuration.  The GNU autoconf system does
  not handle cross-compilation well, and that is required for
  some resource-constrained platforms like vector machines and
  embedded systems.  Portable linker scripts could be useful for
  controlling which symbols are exported; see <a href="#shared-lib">[shared-lib]</a> for
  examples on ELF-based systems.
</p>
</li>
<li>
<p>
Add tests for the random number generators that compare the
  first, say, 1000 generated numbers to 1000 reference numbers.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_reference_notes">Reference Notes</h2>
<div class="sectionbody">
<div class="paragraph"><p>On-line copies of the Fortran 66, Fortran 77 and MIL-STD 1753
documents are available through
<a href="http://www.fortran.com/stds_docs.html">http://www.fortran.com/stds_docs.html</a>.  The Fortran 95 standard
is insanely expensive, but the contents are summarized in
<a href="#f95handbook">[f95handbook]</a>.</p></div>
<div class="paragraph"><p>The Fortran 2003 standard is available for around $30
electronically from ANSI.  The "Final Committee Draft", which is
essentially the same as the standard, is available at
<a href="http://j3-fortran.org/doc/standing/2003/007.pdf">http://j3-fortran.org/doc/standing/2003/007.pdf</a> and
<a href="http://std.dkuug.dk/jtc1/sc22/open/n3661.pdf">http://std.dkuug.dk/jtc1/sc22/open/n3661.pdf</a>.  The 1999 C
standard also is available electronically through ANSI for a
reasonable price.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography">Bibliography</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a id="f95handbook"></a>[f95handbook] Adams, Bainerd, Martin, Smith, and Wegener.
<em>Fortran 95 Handbook; Complete ISO/ANSI Reference.</em>  MIT Press.
ISBN 0-262-51096-0.
</p>
</li>
<li>
<p>
<a id="blast"></a>[blast] Blackford, <em>et al.</em>  <em>Basic Linear Algebra
Subprograms Technical Forum Standard.</em>  <em>International Journal of
High Performance Computing</em>, 15(3-4), 2001.
<a href="http://www.netlib.org/blas/blast-forum/">http://www.netlib.org/blas/blast-forum/</a>
</p>
</li>
<li>
<p>
<a id="lapack95"></a>[lapack95] Barker, Blackford, Dongarra, Du Croz,
Hammarling, Marinova, Wasniewski, and Yalamov.  <em>LAPACK95 Users</em>'
<em>Guide</em>.  SIAM, 2001.  <a href="http://www.netlib.org/lapack95/">http://www.netlib.org/lapack95/</a>
</p>
</li>
<li>
<p>
<a id="lapack3e"></a>[lapack3e] Anderson.  <em>LAWN 158: LAPACK3E - A Fortran
90-enhanced version of LAPACK.</em>  <a href="http://www.netlib.org/lapack3e/lawn158.pdf">http://www.netlib.org/lapack3e/lawn158.pdf</a>
</p>
</li>
<li>
<p>
<a id="shared-lib"></a>[shared-lib] Drepper.  <em>How To Write Shared Libraries.</em>
<a href="http://people.redhat.com/drepper/dsohowto.pdf">http://people.redhat.com/drepper/dsohowto.pdf</a>
</p>
</li>
<li>
<p>
<a id="babel"></a>[babel] Dahlgren, Epperly, Kumfert, and Leek.  <em>Babel Users</em>'
<em>Guide</em>.  2005.  <a href="http://www.llnl.gov/casc/components/docs.html">http://www.llnl.gov/casc/components/docs.html</a>
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2017-06-17 16:16:06 PDT
</div>
</div>
</body>
</html>
